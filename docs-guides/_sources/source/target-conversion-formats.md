# Target Conversion Formats

You can use two different types of Core ML model formats to represent deep learning models: `neuralnetwork` and `mlprogram`. You can choose which format to use during conversion using the `convert_to` or the `minimum_deployment_target` arguments in the [`convert()`](https://apple.github.io/coremltools/source/coremltools.converters.convert.html#module-coremltools.converters._converters_entry) method.

## Neural Network and ML Program

While `neuralnetwork` was the format originally used by Core ML to represent neural networks, it is now in maintenance mode and no longer receiving new features. The `mlprogram` model format, deployable to `iOS15`, `macOS12`, `watchOS8`, `tvOS15`, and newer versions, is the recommended format. 

Since the `neuralnetwork` format is widely available, it is still the default format produced by versions of the [Unified Conversion API](unified-conversion-api) older than 7.0b2. Calling [convert()](https://apple.github.io/coremltools/source/coremltools.converters.convert.html#coremltools.converters._converters_entry.convert) without providing the `convert_to` or the `minimum_deployment_target` parameters, in versions older than 7.0b2, defaults to the `iOS11`/`macOS10.13` deployment target and the `neuralnetwork` backend.

However, in 7.0b2 and newer versions of Core ML Tools, the [`convert()`](https://apple.github.io/coremltools/source/coremltools.converters.convert.html#module-coremltools.converters._converters_entry) method produces an `mlprogram` by default with the `iOS15`/`macOS12` deployment target. You can override this behavior by providing a `minimum_deployment_target` value.


## Format Differences

To learn more about the differences between the two formats, see [Comparing ML Programs and Neural Networks](comparing-ml-programs-and-neural-networks). The following is a summary:

### Minimum Deployment Target

- Neural network: macOS 10.13, iOS 11, watchOS 4, tvOS 11
- ML Program: macOS 12, iOS 15, watchOS 8, tvOS 15

### Supported Core ML File Formats

- Neural network: `.mlmodel` or [`.mlpackage`](save-as-model-package)
- ML Program: [`.mlpackage`](save-as-model-package)

### How to Produce

- Core ML Tools versions older than 7.0b2:
	- Neural network: Generated by default by the [`convert()`](https://apple.github.io/coremltools/source/coremltools.converters.convert.html#module-coremltools.converters._converters_entry) method.
	- ML Program: Use either `convert_to="mlprogram"`, or `minimum_deployment_target=target.iOS15` or newer. 

- Core ML Tools 7.0b2 and newer:
	- Neural network: Use `minimum_deployment_target=target.iOS14` or older.
	- ML Program: Generated by default by the [`convert()`](https://apple.github.io/coremltools/source/coremltools.converters.convert.html#module-coremltools.converters._converters_entry) method.

### Format Specification

- Neural network: See [NeuralNetwork.proto](https://github.com/apple/coremltools/blob/main/mlmodel/format/NeuralNetwork.proto) or [NeuralNetwork spec description](https://apple.github.io/coremltools/mlmodel/Format/NeuralNetwork.html).
- ML Program: See [MIL.proto](https://github.com/apple/coremltools/blob/main/mlmodel/format/MIL.proto) or [MILspec.Program spec description](https://apple.github.io/coremltools/mlmodel/Format/MIL.html).

### Supported Operations

- Neural network: Set of supported ops frozen. For the current list of ops (also known as _layers_), see the [NeuralNetwork spec description](https://apple.github.io/coremltools/mlmodel/Format/NeuralNetwork.html).
- ML Program: New ops are added continually. For the current list of ops, see [MIL Ops](https://apple.github.io/coremltools/source/coremltools.converters.mil.mil.ops.defs.html).

### Feature Development

- Neural network: Frozen, under maintenance only.
- ML Program: All new features target the ML Program format.

### Performance Improvements

- Neural network: Limited.
- ML Program: All major performance enhancements target ML Program.



