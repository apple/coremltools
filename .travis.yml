dist: trusty
cache:
  directories:
    - $HOME/.ccache

language: python

python:
  - 3.7
  - 3.6
  - 2.7

script:
  - free -m

  # Set cache size to 2G (defaults to 512M)
  - ccache -M 2G
  - ccache -s

  # Make wheel using default python
  - bash -e scripts/make_wheel.sh
  - bash -e scripts/test_wheel.sh --wheel-path=build/dist/*.whl 

  # See the changes in ccache
  - ccache -s
